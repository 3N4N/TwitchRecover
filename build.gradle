/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.2/samples
 */

plugins {
    id 'java'
}

sourceSets {
    main {
        java {
            srcDir 'src/'
        }
        // outputDir = file("$workDir/bin")
        // For older version (now deprecated):
        //output.classesDir = "$workDir/client/program"
    }
    //test {
    //    java {
    //        srcDir 'sources/test/java'
    //    }
    //    outputDir = file("$workDir/client/tests")
    //    // For older versions (now deprecated):
    //    //output.classesDir = "$workDir/client/tests"
    //    //output.resourcesDir = "$workDir/client/tests"
    //}
    // resources {
    //     srcDirs 'sources/test/res'
    // }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.json:json:20201115'
    implementation 'commons-io:commons-io:2.8.0'
    implementation 'org.apache.httpcomponents:fluent-hc:4.5.13'
    implementation 'org.projectlombok:lombok:1.18.16'
}

jar {
    archiveBaseName = 'TwitchRecover'
    archiveVersion = ''
    manifest {
        attributes 'Main-Class': 'client.CLI'
    }
    exclude 'META-INF/**'
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}
